# 자바스크립트 핵심개념(실행컨텍스트와 호이스팅)
## 실행 컨텍스트
- ### 개념
  ***실행 가능한 자바스크립트 코드 블록이 실행되는 과정.***  
  실행 컨텍스트 스택에 전역 컨텍스트 이후 새로운 함수가 호출 될 때마다 컨텍스트가 쌓이게 되고(push) 종료시 반환(pop)된다.

- ### 생성과정
  1. **변수객체 생성**: 매개변수, 사용자 정의 변수 및 객체(함수) 정보를 담을 객체.
  2. **arguments 객체 생성**: 함수 호출시 넘긴 인자들이 배열형태로 저장.
  3. **스코프 생성**: 현재 컨텍스트의 유효 범위 (연결리스트 형태).  
  현재 컨텍스트 뿐만 아니라 상위 실행 컨텍스트의 변수도 접근 가능.
  4. **변수 생성**: 지역 변수 생성. 단지 메모리에 저장할 뿐 값의 초기화는 실행되기 전까지 undefined 상태임.
  5. **this 바인딩**: this 키워드 할당.
  6. **코드 실행**: 코드의 여러 표현식이 실행되며 값도 초기화 된다.  

  전역 컨텍스트의 경우 arguments객체가 없으며 변수객체가 전역객체로 사용된다. this 역시 전역객체로 바인딩 된다.
    
- ### 스코프 체인?
  ***함수 or 블록 스코프의 유효범위를 연결리스트로 관리(변수객체를 복사하는 방식)***  
  현재 지역 스코프 범위(변수객체)내에 해당 프로퍼티가 없으면 계속해서 다음 객체로 이동하여 식별자를 찾는다.

## 함수 호이스팅
  - ### 개념
    - ***함수 선언문 형태로 정의한 함수의 유효범위는 코드의 맨 처음부터 시작한다.*** (함수를 사용하기 전에 반드시 선언해야 한다는 규칙을 무시하게 되므로 코드 구조가 엉성해진다.)
    - 함수 표현식 형태로 함수를 선언할 것을 권고한다. 자바스크립트는 변수생성과 초기화 작업이 분리되서 진행된다. 따라서 함수 표현식으로 함수를 선언할 경우 함수는 호이스팅 되지 않고 error가 발생한다.

  - ### 소스코드
    ```
    foo(); // error 호이스팅 되지 않음
    bar();

    var foo = function () {
      console.log('foo and x = ' + x);
    };

    function bar() {
      console.log('bar and x = ' + x); // bar and x = undefined
    }

    var x = 1
    ```

## 참조
> 인사이드 자바스크립트